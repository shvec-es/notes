{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/local-storage-api.js","../src/js/render-tasks.js","../src/js/tasks.js","../src/js/theme-switcher.js","../src/main.js"],"sourcesContent":["// 1 - беремо рефи\nexport const refs = {\n  form: document.querySelector('#task-form'),\n  taskList: document.querySelector('#task-list'),\n  themeSwitcher: document.querySelector('#themeToggle'),\n};\n","// 3.2 - створюємо функцію збереження тасок в ЛС і для діставання їх з ЛС\nexport const saveInLS = (key, data) => {\n  localStorage.setItem(key, JSON.stringify(data));\n};\n\nexport const getFromLS = key => {\n  const savedData = localStorage.getItem(key);\n  if (savedData) {\n    const parsedData = JSON.parse(savedData);\n    return parsedData;\n  }\n  return null;\n};\n","import { refs } from './refs';\n\n// 3.1 - створюємо функцію для рендера тасок\nexport const renderTasks = tasks => {\n  // можна додати перевірку і якщо масив пустий - рендерити якийсь текст-заглушку\n  if (tasks.length === 0) {\n    refs.taskList.innerHTML = 'Sory, you have no tasks yet ';\n    return;\n  }\n\n  const markup = tasks\n    .map(\n      ({ title, description }) => `<li class=\"task-list-item\">\n    <button class=\"task-list-item-btn\">Delete</button>\n    <h3>${title}</h3>\n    <p>${description}</p>\n</li>`\n    )\n    .join('');\n  refs.taskList.innerHTML = markup;\n};\n","import { getFromLS, saveInLS } from './local-storage-api';\nimport { renderTasks } from './render-tasks';\n\n// дістали з ЛС існуючі таски за межами функцій, вони доступні в функціях при виклику завдяки замиканню (способність функцій запамʼятовувати змінні свого оточення по місту створення)\nlet tasks = getFromLS('tasks') || [];\n\n// 3.3 - функція додавання таски на сторінку і в ЛС\nexport const addTask = task => {\n  //   додали нову таску\n  tasks.push(task);\n  //   зарендерили всі таски\n  renderTasks(tasks);\n  //   зберігли всі таски в ЛС\n  saveInLS('tasks', tasks);\n};\n\n// 4.1 - функція для рендеру наявних тасок в ЛС\nexport const getAllTasks = () => {\n  renderTasks(tasks);\n};\n\n// 5.1 - видаляємо таску при натисканні на Delete\nexport const deleteTask = text => {\n  // фільтруємо таски щоб видалити потрібну по заголовку (text)\n  tasks = tasks.filter(task => task.title !== text);\n  //   одразу перерендер\n  renderTasks(tasks);\n  //   і зберігаємо в ЛС без видаленої таски\n  saveInLS('tasks', tasks);\n};\n","export const themeSwitcher = () => {\n  const theme = getFromLS('theme');\n  if (theme === 'theme-dark') {\n    document.body.classList.remove('theme-dark');\n    document.body.classList.add('theme-light');\n    saveInLS('theme', 'theme-light');\n  } else {\n    document.body.classList.add('theme-dark');\n    document.body.classList.remove('theme-light');\n    saveInLS('theme', 'theme-dark');\n  }\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { refs } from './js/refs';\nimport { addTask, deleteTask, getAllTasks } from './js/tasks';\nimport { getFromLS, saveInLS } from './js/local-storage-api';\nimport { themeSwitcher } from './js/theme-switcher';\n\n// 2 - додаємо слухача на форму, забираємо значення з інпутів з перевіркою на пустий рядок\nrefs.form.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const [taskName, taskDescription] = e.target.elements;\n  const title = taskName.value.trim();\n  const description = taskDescription.value.trim();\n\n  if (title === '' || description === '') {\n    iziToast.warning({ position: 'center', message: 'Fill all fields please' });\n    return;\n  }\n  // створюємо обʼєкт таски для додавання до масива\n  const task = { title, description };\n  //   3 - додаємо таску\n  addTask(task);\n\n  refs.form.reset();\n});\n\n// 4 - дістаємо таски з ЛС при завантаженні сторінки\ngetAllTasks();\n\n// 5 - додаємо слухача на список для видалення таски\nrefs.taskList.addEventListener('click', e => {\n  // перевіряємо що клікаємо саме на кнопку\n  if (e.target.nodeName !== 'BUTTON') return;\n  // забираємо заголовок таски де клікнули для видалення\n  const titleForDelete = e.target.nextElementSibling.textContent;\n  //   передаємо заголовок в функцію видалення\n  deleteTask(titleForDelete);\n});\n\n// 6 - перевіряємо тему при завантаженні сторінки\nconst theme = getFromLS('theme');\nif (theme === 'theme-light') {\n  document.body.classList.add('theme-light');\n  document.body.classList.remove('theme-dark');\n}\n\n// 7 - додаємо слухача на кнопку для перемикання теми\nrefs.themeSwitcher.addEventListener('click', themeSwitcher);\n"],"names":["refs","saveInLS","key","data","getFromLS","savedData","renderTasks","tasks","markup","title","description","addTask","task","getAllTasks","deleteTask","text","themeSwitcher","taskName","taskDescription","iziToast","titleForDelete","theme"],"mappings":"svBACO,MAAMA,EAAO,CAClB,KAAM,SAAS,cAAc,YAAY,EACzC,SAAU,SAAS,cAAc,YAAY,EAC7C,cAAe,SAAS,cAAc,cAAc,CACtD,ECJaC,EAAW,CAACC,EAAKC,IAAS,CACrC,aAAa,QAAQD,EAAK,KAAK,UAAUC,CAAI,CAAC,CAChD,EAEaC,EAAYF,GAAO,CAC9B,MAAMG,EAAY,aAAa,QAAQH,CAAG,EAC1C,OAAIG,EACiB,KAAK,MAAMA,CAAS,EAGlC,IACT,ECTaC,EAAcC,GAAS,CAElC,GAAIA,EAAM,SAAW,EAAG,CACtBP,EAAK,SAAS,UAAY,+BAC1B,MACD,CAED,MAAMQ,EAASD,EACZ,IACC,CAAC,CAAE,MAAAE,EAAO,YAAAC,CAAW,IAAO;AAAA;AAAA,UAExBD,CAAK;AAAA,SACNC,CAAW;AAAA,MAEf,EACA,KAAK,EAAE,EACVV,EAAK,SAAS,UAAYQ,CAC5B,EChBA,IAAID,EAAQH,EAAU,OAAO,GAAK,GAG3B,MAAMO,EAAUC,GAAQ,CAE7BL,EAAM,KAAKK,CAAI,EAEfN,EAAYC,CAAK,EAEjBN,EAAS,QAASM,CAAK,CACzB,EAGaM,EAAc,IAAM,CAC/BP,EAAYC,CAAK,CACnB,EAGaO,EAAaC,GAAQ,CAEhCR,EAAQA,EAAM,OAAOK,GAAQA,EAAK,QAAUG,CAAI,EAEhDT,EAAYC,CAAK,EAEjBN,EAAS,QAASM,CAAK,CACzB,EC7BaS,EAAgB,IAAM,CACnB,UAAU,OAAO,IACjB,cACZ,SAAS,KAAK,UAAU,OAAO,YAAY,EAC3C,SAAS,KAAK,UAAU,IAAI,aAAa,EACzC,SAAS,QAAS,aAAa,IAE/B,SAAS,KAAK,UAAU,IAAI,YAAY,EACxC,SAAS,KAAK,UAAU,OAAO,aAAa,EAC5C,SAAS,QAAS,YAAY,EAElC,ECFAhB,EAAK,KAAK,iBAAiB,SAAU,GAAK,CACxC,EAAE,eAAc,EAEhB,KAAM,CAACiB,EAAUC,CAAe,EAAI,EAAE,OAAO,SACvCT,EAAQQ,EAAS,MAAM,KAAI,EAC3BP,EAAcQ,EAAgB,MAAM,KAAI,EAE9C,GAAIT,IAAU,IAAMC,IAAgB,GAAI,CACtCS,EAAS,QAAQ,CAAE,SAAU,SAAU,QAAS,wBAAwB,CAAE,EAC1E,MACD,CAIDR,EAFa,CAAE,MAAAF,EAAO,YAAAC,EAEV,EAEZV,EAAK,KAAK,OACZ,CAAC,EAGDa,IAGAb,EAAK,SAAS,iBAAiB,QAAS,GAAK,CAE3C,GAAI,EAAE,OAAO,WAAa,SAAU,OAEpC,MAAMoB,EAAiB,EAAE,OAAO,mBAAmB,YAEnDN,EAAWM,CAAc,CAC3B,CAAC,EAGD,MAAMC,EAAQjB,EAAU,OAAO,EAC3BiB,IAAU,gBACZ,SAAS,KAAK,UAAU,IAAI,aAAa,EACzC,SAAS,KAAK,UAAU,OAAO,YAAY,GAI7CrB,EAAK,cAAc,iBAAiB,QAASgB,CAAa"}